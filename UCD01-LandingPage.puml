@startuml UCD01-LandingPage
title Use Case Diagram UCD01: Landing Page

' Define Primary Actors (Left side)
actor "User" as User
actor "New User" as NewUser
actor "Returning User" as ReturningUser

' Define Secondary Actors (Right side)
actor "Authentication\nSystem" as Auth <<secondary>>
actor "Database" as DB <<secondary>>
actor "Web Server" as WebServer <<secondary>>

' Actor Generalizations
NewUser -up-|> User
ReturningUser -up-|> User

' System Boundary
rectangle "ChrysaLink System" {
  
  ' UC16: View Landing Page
  usecase "View Landing Page\n(UC16)" as UC16
  usecase "Display Application\nOverview" as UC16_1
  usecase "Show Key Features" as UC16_2
  usecase "Display Call-to-Action\nButtons" as UC16_3
  
  ' UC17: Log In
  usecase "Log In\n(UC17)" as UC17
  usecase "Validate Credentials" as UC17_1
  usecase "Establish User Session" as UC17_2
  usecase "Update Last Login\nTimestamp" as UC17_3
  
  ' UC18: Sign Up
  usecase "Sign Up\n(UC18)" as UC18
  usecase "Validate Input Data" as UC18_1
  usecase "Check Email\nAvailability" as UC18_2
  usecase "Create User Account" as UC18_3
  usecase "Send Verification" as UC18_4
  
  ' UC19: View Home Page
  usecase "View Home Page\n(UC19)" as UC19
  usecase "Retrieve User Profile" as UC19_1
  usecase "Retrieve Community\nActivities" as UC19_2
  usecase "Retrieve Notifications" as UC19_3
  usecase "Display Quick Actions" as UC19_4
}

' Primary Actor Associations
User --> UC16 : visits

' Generalized actors to specific use cases
NewUser --> UC18 : initiates
ReturningUser --> UC17 : initiates

' UC16 relationships
UC16 ..> UC16_1 : <<include>>
UC16 ..> UC16_2 : <<include>>
UC16 ..> UC16_3 : <<include>>

' UC17 (Log In) relationships
UC17 ..> UC17_1 : <<include>>
UC17 ..> UC17_2 : <<include>>
UC17 ..> UC17_3 : <<include>>
UC17 --> UC19 : redirects to

' UC18 (Sign Up) relationships
UC18 ..> UC18_1 : <<include>>
UC18 ..> UC18_2 : <<include>>
UC18 ..> UC18_3 : <<include>>
UC18 ..> UC18_4 : <<extend>>\n[email verification\nenabled]
UC18 --> UC19 : redirects to

' UC19 (View Home Page) relationships
UC19 ..> UC19_1 : <<include>>
UC19 ..> UC19_2 : <<include>>
UC19 ..> UC19_3 : <<include>>
UC19 ..> UC19_4 : <<include>>

' Secondary Actor Associations (Right side)
UC17_1 --> Auth : authenticates via
UC17_2 --> Auth : creates session
UC18_1 --> WebServer : validates
UC18_2 --> DB : queries
UC18_3 --> DB : creates record
UC17_3 --> DB : updates
UC19_1 --> DB : fetches from
UC19_2 --> DB : fetches from
UC19_3 --> DB : fetches from

' Extension Points
note right of UC18
  Extension Points:
  - Email Verification
  (optional based on config)
end note

note right of UC17
  Preconditions:
  - User has valid account
  - Email and password match
end note

note right of UC18
  Preconditions:
  - Email not already registered
  - Password meets requirements
end note

@enduml
